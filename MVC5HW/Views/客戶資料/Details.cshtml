@model MVC5HW.Models.CustomDetailWithContact

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>客戶資料</h4>
    <hr />
    @{
        var custom = Model.custom;
    }
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => custom.客戶名稱)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.客戶名稱)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.客戶分類)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.客戶分類)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.統一編號)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.統一編號)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.電話)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.電話)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.傳真)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.傳真)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.地址)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.地址)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => custom.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => custom.Email)
        </dd>

    </dl>
</div>

<div>
    @{
        var contacts = Model.contacts;
    }

        <div>
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        </div>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => contacts.FirstOrDefault().職稱)
                </th>
                <th>
                    @Html.DisplayNameFor(model => contacts.FirstOrDefault().姓名)
                </th>
                <th>
                    @Html.DisplayNameFor(model => contacts.FirstOrDefault().Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => contacts.FirstOrDefault().手機)
                </th>
                <th>
                    @Html.DisplayNameFor(model => contacts.FirstOrDefault().電話)
                </th>
                <th></th>
            </tr>

            @foreach(var item in contacts)
                {
                <tr>
                    <td>
                        @Html.EditorFor(modelItem => item.職稱)
                        @Html.ValidationMessageFor(modelItem => item.職稱, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.姓名)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => item.手機)
                        @Html.ValidationMessageFor(modelItem => item.手機, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => item.電話)
                        @Html.ValidationMessageFor(modelItem => item.電話, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>
            }

            <tr>
                <td><button type="submit">批次作業</button></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
</div>


<p>
    @Html.ActionLink("Edit", "Edit", new { id = custom.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
